console.log("Contribute!");r t=React.createClass({displayName:"Card",render:function(){var t=this.props.legislator;return React.DOM.tr(null,React.DOM.td(null,t.first_name+" "+t.last_name),React.DOM.td(null,t.district),React.DOM.td(null,t.sect),React.DOM.td(null,t.party),React.DOM.td(null,t.phone))}}),e=React.createClass({displayName:"Table",render:function(){var e=[];return this.props.legislators.forEach(function(s){var a=s.first_name+" "+s.last_name;-1===a.toLowerCase().indexOf(this.props.filterText.toLowerCase())||"All"!==this.props.district&&s.district!==this.props.district||"All"!==this.props.sect&&s.sect!==this.props.sect||"All"!==this.props.party&&s.party!==this.props.party||e.push(t({legislator:s}))}.bind(this)),React.DOM.table(null,React.DOM.tbody(null,e))}}),s=React.createClass({displayName:"SearchBar",handleChange:function(){this.props.onUserInput(this.refs.filterTextInput.getDOMNode().value)},render:function(){return React.DOM.form(null,React.DOM.input({type:"text",id:"search",placeholder:"Search...",value:this.props.filterText,onChange:this.handleChange,ref:"filterTextInput"}))}}),a=React.createClass({displayName:"FilterBar",handleChange:function(){this.props.onUserInput(this.refs.districtInput.getDOMNode().value,this.refs.sectInput.getDOMNode().value,this.refs.partyInput.getDOMNode().value)},render:function(){var t=[],e=[],s=[];console.log(this.props),this.props.legislators.forEach(function(a){"All"!==this.props.district&&a.district!==this.props.district||"All"!==this.props.sect&&a.sect!==this.props.sect||"All"!==this.props.party&&a.party!==this.props.party||(-1===t.indexOf(a.district)&&t.push(a.district),-1===e.indexOf(a.sect)&&e.push(a.sect),-1===s.indexOf(a.party)&&s.push(a.party))}.bind(this));var a=t.map(function(t){return React.DOM.option({value:t},t)}),r=s.map(function(t){return React.DOM.option({value:t},t)}),i=e.map(function(t){return React.DOM.option({value:t},t)});return React.DOM.form(null,React.DOM.div({className:"selector"},"Sect:",React.DOM.select({ref:"sectInput",value:this.props.sect,onChange:this.handleChange},React.DOM.option({value:"All"},"All"),i)),React.DOM.div({className:"selector"},"Party:",React.DOM.select({ref:"partyInput",value:this.props.party,onChange:this.handleChange},React.DOM.option({value:"All"},"All"),r)),React.DOM.div({className:"selector"},"District:",React.DOM.select({ref:"districtInput",value:this.props.district,onChange:this.handleChange},React.DOM.option({value:"All"},"All"),a)))}}),r=React.createClass({displayName:"FilterableTable",handleNewData:function(t){this.setState({legislators:t})},componentWillMount:function(){var t=this;$.ajax({url:this.props.url,dataType:"json"}).done(function(e){t.handleNewData(e)}).fail(function(){console.log("error")}).always(function(){console.log("complete")})},getInitialState:function(){return{legislators:[],filterText:"",district:"All",sect:"All",party:"All"}},handleSearchInput:function(t){this.setState({filterText:t})},handleFilterInput:function(t,e,s){this.setState({district:t,sect:e,party:s})},render:function(){return React.DOM.div(null,s({onUserInput:this.handleSearchInput,filterText:this.state.filterText}),a({onUserInput:this.handleFilterInput,legislators:this.state.legislators,district:this.state.district,sect:this.state.sect,party:this.state.party}),e({legislators:this.state.legislators,filterText:this.state.filterText,district:this.state.district,sect:this.state.sect,party:this.state.party}))}});React.renderComponent(r({url:"http://api.nouwweb.pw/search?deputies_terms=2009"}),document.getElementById("content"))}(),console.log("Contribute!");